//Using this to test to LCD displays
#include <SPI.h> //I had to search for this in file explorer and add it's path to my workspace 
#include <Wire.h>
#include <Adafruit_GFX.h> //https://github.com/adafruit/Adafruit-GFX-Library make sure and rename file to include properly
#include <Adafruit_SSD1306.h> //https://github.com/adafruit/Adafruit_SSD1306 make sure and rename file to include properly
#include "Holloman_common.h"

#define BITMAP_WIDTH 32
#define BITMAP_HEIGHT 32

Adafruit_SSD1306 display = Adafruit_SSD1306(128, 64, &Wire); //Configured to our board size, this always gives error for some reason

bool eyesOnOnce = false; //for some reason i can't get this to work when it's in common

static unsigned char PROGMEM myBitmap_bmp[] = {0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xbf, 0xff, 0xff, 0xff, 0xc0, 0x00, 0xff, 0xff, 0x8f, 
0xff, 0xff, 0xfc, 0x00, 0x00, 0x07, 0xff, 0xc3, 0xff, 0xff, 0xe0, 0x00, 0x00, 0x00, 0x7f, 0xf1, 
0xff, 0xff, 0x00, 0x00, 0x00, 0x00, 0x1f, 0xf9, 0xff, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x03, 0xff, 
0xff, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xc0, 0x00, 0x1f, 0xff, 0xe0, 0x00, 0x3f, 
0xff, 0x00, 0x07, 0xff, 0xff, 0xff, 0x00, 0x1f, 0xfe, 0x00, 0x1f, 0xff, 0xff, 0xff, 0xc0, 0x0f, 
0xf8, 0x00, 0xff, 0xff, 0xff, 0xff, 0xf8, 0x0f, 0xf0, 0x07, 0xff, 0xff, 0xff, 0xff, 0xff, 0x0f, 
0xf0, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xf0, 0x3f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
0xf8, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xffâ€‹,
};

void setup() {

    display.begin(SSD1306_SWITCHCAPVCC, 0x3C); // begins display, displays arduino logo by default
    display.clearDisplay(); //This will clear the adafruit logo

    digitalWrite(buttonPin, INPUT); //Button pin
    digitalWrite(buzzerPin, OUTPUT); //For the buzzer
    digitalWrite(ledPin, OUTPUT); //For the ledPin

    Serial.begin(9600);

}

void loop() {

    if (eyesOn == false && eyesOnOnce == false) {
        displayEyes();
        Serial.println("eyeson");
        eyesOnOnce = true;

    }
    
    if(digitalRead(buttonPin)) {
        Serial.println("button pressed");
        closeEyes();
        //makeNoise();
        //blink();

        eyesOn = false;
        eyesOnOnce = false;
    }
}

void displayEyes() {

    //display.begin(SSD1306_SWITCHCAPVCC, 0x3C); // begins display, displays arduino logo by default
    display.clearDisplay(); //This will clear the adafruit logo

    display.fillRect(x0, y0, width, height, YELLOW);

    display.display();

    eyesOn = true;

}

void closeEyes() {

    display.clearDisplay(); 

    //display.fillCircle(x1, y1, r, WHITE);
    display.drawBitmap(((display.width()  - BITMAP_WIDTH ) / 2), ((display.height() - BITMAP_HEIGHT) / 2), myBitmap_bmp, BITMAP_WIDTH, BITMAP_HEIGHT, 1); 

    //display.display();

    delay(2000);

    
}



